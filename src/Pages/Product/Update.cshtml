@page "{id}"
@using ContosoCrafts.WebSite.Services
@using ContosoCrafts.WebSite.Models
@inject JsonFileProductService ProductService
@model ContosoCrafts.WebSite.Pages.Product.UpdateModel

@{
    ViewData["Title"] = "Update page";
}

<div class="hero-read-container">
    <div class="hero-read-card">
        <h1 class="hero-read-title">Update @Model.Product.Title</h1>

        <div class="hero-read-content">
            <!-- Image -->
            <img class="hero-update-image" src='@Model.Product.ImageUrl' alt='Image for @Model.Product.Title'>

            <!-- Fields to fill -->
            <div class="hero-read-details">
                <form method="post" class="update-form">
                    <input type="hidden" asp-for="Product.Id" />

                    <!-- Superhero Name -->
                    <div class="form-group">
                        <div class="label-row">
                            <label asp-for="Product.Title"><strong>Superhero Name</strong></label>
                            <span asp-validation-for="Product.Title" class="text-danger"></span>
                        </div>
                        <input asp-for="Product.Title"
                               class="form-control"
                               maxlength="20"
                               pattern="^[a-zA-Z0-9\s]+$"
                               title="Only letters, numbers, and spaces allowed. Max 20 characters." />
                    </div>


                    <!-- Full Name -->
                    <div class="form-group">
                        <div class="label-row">
                            <label asp-for="Product.Fullname"><strong>Full Name</strong></label>
                            <span asp-validation-for="Product.Fullname" class="text-danger"></span>
                        </div>
                        <input asp-for="Product.Fullname" class="form-control" />
                    </div>

                    <!-- Gender Dropdown -->
                    <div class="form-group">
                        <div class="label-row">
                            <label asp-for="Product.Gender"><strong>Gender</strong></label>
                            <span asp-validation-for="Product.Gender" class="text-danger"></span>
                        </div>
                        <select asp-for="Product.Gender" class="form-control">
                            <option value="">-- Select Gender --</option>
                            <option value="Male" selected="@("Male" == Model.Product.Gender)">Male</option>
                            <option value="Female" selected="@("Female" == Model.Product.Gender)">Female</option>
                            <option value="Other" selected="@("Other" == Model.Product.Gender)">Other</option>
                        </select>
                    </div>


                    <!-- Role Dropdown -->
                    <div class="form-group">
                        <div class="label-row">
                            <label asp-for="Product.Role"><strong>Role</strong></label>
                            <span asp-validation-for="Product.Role" class="text-danger"></span>
                        </div>
                        <select asp-for="Product.Role" class="form-control">
                            <option value="">-- Select Role --</option>
                            <option value="Core Avenger" selected="@("Core Avenger" == Model.Product.Role)">Hero</option>
                            <option value="Founding Avenger" selected="@("Founding Avenger" == Model.Product.Role)">Villain</option>
                            <option value="Mystic Defender" selected="@("Mystic Defender" == Model.Product.Role)">Anti-Hero</option>
                            <option value="Guardian" selected="@("Guardian" == Model.Product.Role)">Support</option>
                            <option value="Support" selected="@("Support" == Model.Product.Role)">Civilian</option>
                        </select>
                    </div>

                    <!-- Alignment Dropdown -->
                    <div class="form-group">
                        <div class="label-row">
                            <label asp-for="Product.Alignment"><strong>Alignment</strong></label>
                            <span asp-validation-for="Product.Alignment" class="text-danger"></span>
                        </div>
                        <select asp-for="Product.Alignment" class="form-control">
                            <option value="">-- Select Alignment --</option>
                            <option value="Good" selected="@("good" == Model.Product.Alignment)">Good</option>
                            <option value="Evil" selected="@("evil" == Model.Product.Alignment)">Evil</option>
                            <option value="Neutral" selected="@("neutral" == Model.Product.Alignment)">Neutral</option>
                        </select>
                    </div>

                    <!-- Birthplace -->
                    <div class="form-group">
                        <div class="label-row">
                            <label asp-for="Product.Birthplace"><strong>Birthplace</strong></label>
                            <span asp-validation-for="Product.Birthplace" class="text-danger"></span>
                        </div>
                        <input asp-for="Product.Birthplace" class="form-control" />
                    </div>

                    <!-- Work -->
                    <div class="form-group">
                        <div class="label-row">
                            <label asp-for="Product.Work"><strong>Work</strong></label>
                            <span asp-validation-for="Product.Work" class="text-danger"></span>
                        </div>
                        <input asp-for="Product.Work" class="form-control" />
                    </div>

                    <!-- First Appearance -->
                    <div class="form-group">
                        <div class="label-row">
                            <label asp-for="Product.FirstAppear"><strong>First Appearance</strong></label>
                            <span asp-validation-for="Product.FirstAppear" class="text-danger"></span>
                        </div>
                        <input asp-for="Product.FirstAppear" class="form-control" />
                    </div>

                    <!-- Image URL -->
                    <div class="form-group">
                        <div class="label-row">
                            <label asp-for="Product.ImageUrl"><strong>Image URL</strong></label>
                            <span asp-validation-for="Product.ImageUrl" class="text-danger"></span>
                        </div>
                        <input asp-for="Product.ImageUrl" class="form-control" />
                    </div>

                    <!-- Power statistics title -->
                    <h2 class="hero-read-title" style="font-size: 1.5rem;">Power Statistics</h2>

                    <!-- Intelligence -->
                    <div class="form-group">
                        <div class="label-row">
                            <label asp-for="Product.Intelligence"><strong>Intelligence</strong></label>
                            <span asp-validation-for="Product.Intelligence" class="text-danger"></span>
                        </div>
                        <input asp-for="Product.Intelligence"
                               type="range"
                               min="0"
                               max="100"
                               class="form-range"
                               id="intelligenceSlider"
                               oninput="document.getElementById('intelligenceValue').innerText = this.value" />
                        <span id="intelligenceValue">@Model.Product.Intelligence</span>

                    </div>

                    <!-- Strength -->
                    <div class="form-group">
                        <label for="strengthSlider"><strong>Strength</strong></label>
                        <input asp-for="Product.Strength"
                               type="range"
                               min="0"
                               max="100"
                               id="strengthSlider"
                               class="form-range"
                               oninput="document.getElementById('strengthValue').innerText = this.value" />
                        <span id="strengthValue">@Model.Product.Strength</span>
                    </div>

                    <!-- Speed -->
                    <div class="form-group">
                        <label for="speedSlider"><strong>Speed</strong></label>
                        <input asp-for="Product.Speed"
                               type="range"
                               min="0"
                               max="100"
                               id="speedSlider"
                               class="form-range"
                               oninput="document.getElementById('speedValue').innerText = this.value" />
                        <span id="speedValue">@Model.Product.Speed</span>
                    </div>

                    <!-- Durability -->
                    <div class="form-group">
                        <label for="durabilitySlider"><strong>Durability</strong></label>
                        <input asp-for="Product.Durability"
                               type="range"
                               min="0"
                               max="100"
                               id="durabilitySlider"
                               class="form-range"
                               oninput="document.getElementById('durabilityValue').innerText = this.value" />
                        <span id="durabilityValue">@Model.Product.Durability</span>
                    </div>

                    <!-- Power -->
                    <div class="form-group">
                        <label for="powerSlider"><strong>Power</strong></label>
                        <input asp-for="Product.Power"
                               type="range"
                               min="0"
                               max="100"
                               id="powerSlider"
                               class="form-range"
                               oninput="document.getElementById('powerValue').innerText = this.value" />
                        <span id="powerValue">@Model.Product.Power</span>
                    </div>

                    <!-- Combat -->
                    <div class="form-group">
                        <label for="combatSlider"><strong>Combat</strong></label>
                        <input asp-for="Product.Combat"
                               type="range"
                               min="0"
                               max="100"
                               id="combatSlider"
                               class="form-range"
                               oninput="document.getElementById('combatValue').innerText = this.value" />
                        <span id="combatValue">@Model.Product.Combat</span>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Update</button>
                        <a asp-page="./Index" asp-route-id="@Model.Product.Id" class="btn btn-secondary">Cancel</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
